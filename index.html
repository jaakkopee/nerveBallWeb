<!-- nerveBall Web Version by Jaakko Prättälä, use as you wish -->
<!DOCTYPE html>
<html>
    <head>
        <title>nerveBall</title>
        <link rel="stylesheet" type="text/css" href="nerveballweb.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
        <script src="nerveballweb.js"></script>
    </head>
    <body> 
        <script type="text/javascript">
            var mode = 0;
            function setup() {
                createCanvas(800, 800);
                background(0);
                fill(255);
                frameRate(60);
            }
            
            function draw() {
                while (mode == 0) {
                    //clear canvas
                    background(0);
                    //move balls
                    for (var i = 0; i < ball_amount; i++) {
                        moveBall(i);
                    }
                    //draw balls
                    for (var i = 0; i < ball_amount; i++) {
                        drawBall(i);
                    }
                    //update ball neural activations
                    for (var i = 0; i < ball_amount; i++) {
                        ball_na[i] = countBallNA(i);
                    }

                    //backpropagate
                    for (var i = 0; i < ball_amount; i++) {
                        backPropagate(i);
                    }

                    //check collision
                    checkCollision();
                    //check wall collision
                    checkWallCollision();

                }
            }
        </script>
    </body>
</html>
